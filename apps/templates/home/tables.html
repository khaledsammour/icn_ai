{% extends "layouts/base.html" %}

{% block title %} Tables {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

<div class="content">
    <div class="row">
        <div class="col-md-12">
            <div class="card ">
                <div class="card-header">
                    <h4 class="card-title"> Simple Table</h4>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table tablesorter " id="">
                            <thead class=" text-primary">
                            <tr>
                                <th>
                                    Name
                                </th>
                                <th>
                                    Products
                                </th>
                                <th>
                                    Last Scraped Date
                                </th>
                                <th class="text-center">
                                    Scrap
                                </th>
                            </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <p>Common Website</p>
                                        <input type="text" class="form-control mt-3" placeholder="URL" id="search_url"/>
                                    </td>
                                    <td>
                                        <p>3</p>
                                    </td>
                                    <td>
                                        07-10-2024
                                    </td>
                                    <td class="text-center">
                                        <button type="button" class="btn" onclick="searchUrl()">
                                            Search
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <input type="text" class="form-control mt-3" placeholder="product selector" id="product_selector"/>
                                    </td>
                                    <td>
                                        <input type="text" class="form-control mt-3" placeholder="title selector" id="title_selector"/>
                                    </td>
                                    <td>
                                        <input type="text" class="form-control mt-3" placeholder="image selector" id="image_selector"/>
                                    </td>
                                    <td>
                                        <input type="text" class="form-control mt-3" placeholder="price selector" id="price_selector"/>
                                    </td>
                                </tr>
                            <tr>
                                <td>
                                    <p>Change Text</p>
                                    <input type="text" class="form-control mt-3" placeholder="id" id="change_text_id"/>
                                </td>
                                <td>
                                    <p>3</p>
                                </td>
                                <td>
                                    07-10-2024
                                </td>
                                <td class="text-center">
                                    <button type="button" class="btn" onclick="changeText()">
                                        Change Text
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>Main</p>
                                    <select class="form-control" id="main">
                                        {% for website in websites %}
                                            <option style="color:black">{{ website.name }}</option>
                                        {% empty %}
                                            <option>No items available.</option>
                                        {% endfor %}
                                    </select>
                                </td>
                                <td>
                                    <input type="text" class="form-control mt-3" placeholder="View Id" id="viewId"/>
                                </td>
                                <td>
                                </td>
                                <td class="text-center">
                                    <button type="button" class="btn" onclick="mainScrapView()">
                                        Scrap
                                    </button>
                                    <button type="button" class="btn" onclick="stopProcess()">
                                        Stop
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>Cashmere</p>
                                    <input type="text" class="form-control mt-3" placeholder="URL" id="cashmere_url"/>
                                </td>
                                <td>
                                    <p>3</p>
                                    <input type="text" class="form-control mt-3" placeholder="Category"
                                           id="cashmere_db_category"/>
                                </td>
                                <td>
                                    <p>07-10-2024</p>
                                </td>
                                <td class="text-center">
                                    <button type="button" class="btn"
                                            onclick="secScrapView('https://www.cashmerecosmetics.com/language/en/product-category/bath-body/bath-shower-gel/')">
                                        Scrap
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>alrefai</p>
                                    <input type="text" class="form-control mt-3" placeholder="URL"
                                           id="alrefai_url"/>
                                </td>
                                <td>
                                    <p>3</p>
                                    <input type="text" class="form-control mt-3" placeholder="Category"
                                           id="alrefai_db_category"/>
                                </td>
                                <td>
                                    07-10-2024
                                </td>
                                <td class="text-center">
                                    <button type="button" class="btn" onclick="alrefaiScrapView()">
                                        Scrap
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>Vikusha</p>
                                    <input type="text" class="form-control mt-3" placeholder="URL" id="vikusha_url"/>
                                </td>
                                <td>
                                    <p>3</p>
                                    <input type="text" class="form-control mt-3" placeholder="Category"
                                           id="vikusha_db_category"/>
                                </td>
                                <td>
                                    07-10-2024
                                </td>
                                <td class="text-center">
                                    <button type="button" class="btn" onclick="vikushaScrapView()">
                                        Scrap
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>GTS</p>
                                    <input type="text" class="form-control mt-3" placeholder="URL" id="gts_url"/>
                                    <input type="text" class="form-control mt-3" placeholder="Description"
                                           id="gts_description"/>
                                </td>
                                <td>
                                    <p>3</p>
                                    <input type="text" class="form-control mt-3" placeholder="Category"
                                           id="gts_db_category"/>
                                    <input type="text" class="form-control mt-3" placeholder="Arabic description"
                                           id="gts_arabic_description"/>
                                </td>
                                <td>
                                    07-10-2024
                                </td>
                                <td class="text-center">
                                    <button type="button" class="btn" onclick="gtsScrapView()">
                                        Scrap
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>TXON</p>
                                    <input type="text" class="form-control mt-3" placeholder="URL" id="txon_url"/>
                                    <input type="text" class="form-control mt-3" placeholder="Description"
                                           id="txon_description"/>
                                </td>
                                <td>
                                    <p>3</p>
                                    <input type="text" class="form-control mt-3" placeholder="Category"
                                           id="txon_db_category"/>
                                    <input type="text" class="form-control mt-3" placeholder="Arabic description"
                                           id="txon_arabic_description"/>
                                </td>
                                <td>
                                    07-10-2024
                                </td>
                                <td class="text-center">
                                    <button type="button" class="btn" onclick="txonScrapView()">
                                        Scrap
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>Bashiti</p>
                                    <input type="text" class="form-control mt-3" placeholder="URL" id="bashiti_url"/>
                                    <input type="text" class="form-control mt-3" placeholder="Description"
                                           id="bashiti_description"/>
                                </td>
                                <td>
                                    <p>3</p>
                                    <input type="text" class="form-control mt-3" placeholder="Category"
                                           id="bashiti_db_category"/>
                                    <input type="text" class="form-control mt-3" placeholder="Arabic description"
                                           id="bashiti_arabic_description"/>
                                </td>
                                <td>
                                    07-10-2024
                                </td>
                                <td class="text-center">
                                    <button type="button" class="btn" onclick="bashitiScrapView()">
                                        Scrap
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>international sport Equipment</p>
                                    <input type="text" class="form-control mt-3" placeholder="URL" id="sport_url"/>
                                    <input type="text" class="form-control mt-3" placeholder="Description"
                                           id="sport_description"/>
                                </td>
                                <td>
                                    <p>3</p>
                                    <input type="text" class="form-control mt-3" placeholder="Category"
                                           id="sport_db_category"/>
                                    <input type="text" class="form-control mt-3" placeholder="Arabic description"
                                           id="sport_arabic_description"/>
                                </td>
                                <td>
                                    07-10-2024
                                </td>
                                <td class="text-center">
                                    <button type="button" class="btn" onclick="sportEquipmentScrapView()">
                                        Scrap
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>DiamondStar</p>
                                    <input type="text" class="form-control mt-3" placeholder="URL" id="diamond_star_url"/>
                                    <input type="text" class="form-control mt-3" placeholder="Description"
                                           id="diamond_star_description"/>
                                </td>
                                <td>
                                    <p>3</p>
                                    <input type="text" class="form-control mt-3" placeholder="Category"
                                           id="diamond_star_db_category"/>
                                    <input type="text" class="form-control mt-3" placeholder="Arabic description"
                                           id="diamond_star_arabic_description"/>
                                </td>
                                <td>
                                    07-10-2024
                                </td>
                                <td class="text-center">
                                    <button type="button" class="btn" onclick="diamondStarScrapView()">
                                        Scrap
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>Dermacol</p>
                                    <input type="text" class="form-control mt-3" placeholder="URL" id="dermacol_url"/>
                                    <input type="text" class="form-control mt-3" placeholder="Description"
                                           id="dermacol_description"/>
                                </td>
                                <td>
                                    <p>3</p>
                                    <input type="text" class="form-control mt-3" placeholder="Category"
                                           id="dermacol_db_category"/>
                                    <input type="text" class="form-control mt-3" placeholder="Arabic description"
                                           id="dermacol_arabic_description"/>
                                </td>
                                <td>
                                    07-10-2024
                                </td>
                                <td class="text-center">
                                    <button type="button" class="btn" onclick="dermacolScrapView()">
                                        Scrap
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>Update Store</p>
                                    <input type="text" class="form-control mt-3" placeholder="URL" id="update_store_url"/>
                                    <input type="text" class="form-control mt-3" placeholder="Description"
                                           id="update_store_description"/>
                                </td>
                                <td>
                                    <p>3</p>
                                    <input type="text" class="form-control mt-3" placeholder="Category"
                                           id="update_store_db_category"/>
                                    <input type="text" class="form-control mt-3" placeholder="Arabic description"
                                           id="update_store_arabic_description"/>
                                </td>
                                <td>
                                    07-10-2024
                                </td>
                                <td class="text-center">
                                    <button type="button" class="btn" onclick="updateStoreScrapView()">
                                        Scrap
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>Real Cosmetics</p>
                                    <input type="text" class="form-control mt-3" placeholder="URL" id="real_cosmetics_url"/>
                                    <input type="text" class="form-control mt-3" placeholder="Description"
                                           id="real_cosmetics_description"/>
                                </td>
                                <td>
                                    <p>3</p>
                                    <input type="text" class="form-control mt-3" placeholder="Category"
                                           id="real_cosmetics_db_category"/>
                                    <input type="text" class="form-control mt-3" placeholder="Arabic description"
                                           id="real_cosmetics_arabic_description"/>
                                </td>
                                <td>
                                    07-10-2024
                                </td>
                                <td class="text-center">
                                    <button type="button" class="btn" onclick="realCosmeticsScrapView()">
                                        Scrap
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>New vision</p>
                                    <input type="text" class="form-control mt-3" placeholder="URL" id="new_vision_url"/>
                                    <input type="text" class="form-control mt-3" placeholder="Description"
                                           id="new_vision_description"/>
                                </td>
                                <td>
                                    <p>3</p>
                                    <input type="text" class="form-control mt-3" placeholder="Category"
                                           id="new_vision_db_category"/>
                                    <input type="text" class="form-control mt-3" placeholder="Arabic description"
                                           id="new_vision_arabic_description"/>
                                </td>
                                <td>
                                    07-10-2024
                                </td>
                                <td class="text-center">
                                    <button type="button" class="btn" onclick="newVisionScrapView()">
                                        Scrap
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>Pets Jo</p>
                                    <input type="text" class="form-control mt-3" placeholder="URL" id="pets_jo_url"/>
                                    <input type="text" class="form-control mt-3" placeholder="Description"
                                           id="pets_jo_description"/>
                                </td>
                                <td>
                                    <p>3</p>
                                    <input type="text" class="form-control mt-3" placeholder="Category"
                                           id="pets_jo_db_category"/>
                                    <input type="text" class="form-control mt-3" placeholder="Arabic description"
                                           id="pets_jo_arabic_description"/>
                                </td>
                                <td>
                                    07-10-2024
                                </td>
                                <td class="text-center">
                                    <button type="button" class="btn" onclick="petsJoScrapView()">
                                        Scrap
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>Delfy</p>
                                    <input type="text" class="form-control mt-3" placeholder="URL" id="brand"/>
                                </td>
                                <td>
                                    <p>3</p>
                                    <input class="form-control mt-3" type="file" id="file" name="file" />
                                </td>
                                <td>
                                    07-10-2024
                                </td>
                                <td class="text-center">
                                    <button type="button" class="btn" onclick="delfyScrapView()">
                                        Scrap
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>Data From Bing</p>
                                </td>
                                <td>
                                    <p>3</p>
                                    <input class="form-control mt-3" type="file" id="bingFile" name="bingFile" />
                                </td>
                                <td>
                                    07-10-2024
                                </td>
                                <td class="text-center">
                                    <button type="button" class="btn" onclick="GetProductsFromBing()">
                                        Scrap
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>Image From Google</p>
                                </td>
                                <td>
                                    <p>3</p>
                                    <input class="form-control mt-3" type="file" id="googleFile" name="googleFile" />
                                </td>
                                <td>
                                    07-10-2024
                                </td>
                                <td class="text-center">
                                    <button type="button" class="btn" onclick="GetImagesFromGoogle()">
                                        Scrap
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>Temu</p>
                                    <input type="text" class="form-control mt-3" placeholder="URL" id="temu_url"/>
                                </td>
                                <td>
                                    <p>3</p>
                                    <input type="text" class="form-control mt-3" placeholder="Category"
                                           id="temu_db_category"/>
                                </td>
                                <td>
                                    07-10-2024
                                </td>
                                <td class="text-center">
                                    <button type="button" class="btn" onclick="temuScrapView()">
                                        Scrap
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>Bashiti</p>
                                    <input type="text" class="form-control mt-3" placeholder="URL" id="bashiti_central_url"/>
                                </td>
                                <td>
                                    <p>3</p>
                                    <input type="text" class="form-control mt-3" placeholder="Category"
                                           id="bashiti_central_db_category"/>
                                </td>
                                <td>
                                    07-10-2024
                                </td>
                                <td class="text-center">
                                    <button type="button" class="btn" onclick="bashitiCentralScrapView()">
                                        Scrap
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>Arabi Emart</p>
                                    <input type="text" class="form-control mt-3" placeholder="URL" id="arabi_emart_url"/>
                                    <input type="text" class="form-control mt-3" placeholder="Index" id="arabi_emart_index"/>
                                </td>
                                <td>
                                    <p>3</p>
                                    <input type="text" class="form-control mt-3" placeholder="Category"
                                           id="arabi_emart_db_category"/>
                                    <input type="text" class="form-control mt-3" placeholder="Max Index"
                                            id="arabi_emart_max_index"/>
                                </td>
                                <td>
                                    07-10-2024
                                </td>
                                <td class="text-center">
                                    <button type="button" class="btn" onclick="arabiEmartScrapView()">
                                        Scrap
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>Inimex Shop</p>
                                    <input type="text" class="form-control mt-3" placeholder="URL" id="inimex_shop_url"/>
                                </td>
                                <td>
                                    <p>3</p>
                                    <input type="text" class="form-control mt-3" placeholder="Category"
                                           id="inimex_shop_db_category"/>
                                </td>
                                <td>
                                    07-10-2024
                                </td>
                                <td class="text-center">
                                    <button type="button" class="btn" onclick="inimexShopScrapView()">
                                        Scrap
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}
<script>
    function getCookie(name) {
        let cookieValue = null;
        if (document.cookie && document.cookie !== '') {
            const cookies = document.cookie.split(';');
            for (let i = 0; i < cookies.length; i++) {
                const cookie = cookies[i].trim();
                if (cookie.substring(0, name.length + 1) === (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
    }

    const csrftoken = getCookie('csrftoken');

    function secScrapView() {
        fetch("/api/SecScrapView", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                'X-CSRFToken': csrftoken,
            },
            body: JSON.stringify({
                id: "2786",
                url: document.getElementById('cashmere_url').value,
                db_category: document.getElementById('cashmere_db_category').value,
            })
        })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error("Error:", error));

    }

    function alrefaiScrapView() {
        fetch("/api/AlrefaiScrapView", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                'X-CSRFToken': csrftoken,
            },
            body: JSON.stringify({
                id: "2993",
                url: document.getElementById('alrefai_url').value,
                db_category: document.getElementById('alrefai_db_category').value,
                description: " ",
                arabic_description: " ",
            })
        })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error("Error:", error));

    }

    function vikushaScrapView() {
        fetch("/api/VikushaScrapView", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                'X-CSRFToken': csrftoken,
            },
            body: JSON.stringify({
                id: "1",
                url: document.getElementById('vikusha_url').value,
                db_category: document.getElementById('vikusha_db_category').value,
            })
        })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error("Error:", error));

    }

    function gtsScrapView() {
        fetch("/api/GTSScrapView", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                'X-CSRFToken': csrftoken,
            },
            body: JSON.stringify({
                id: "2802",
                url: document.getElementById('gts_url').value,
                db_category: document.getElementById('gts_db_category').value,
                description: document.getElementById('gts_description').value,
                arabic_description: document.getElementById('gts_arabic_description').value,
            })
        })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error("Error:", error));

    }

    function txonScrapView() {
        fetch("/api/TXONScrapView", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                'X-CSRFToken': csrftoken,
            },
            body: JSON.stringify({
                id: "2812",
                url: document.getElementById('txon_url').value,
                db_category: document.getElementById('txon_db_category').value,
                description: document.getElementById('txon_description').value,
                arabic_description: document.getElementById('txon_arabic_description').value,
            })
        })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error("Error:", error));

    }

    function bashitiScrapView() {
        fetch("/api/BashitiScrapView", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                'X-CSRFToken': csrftoken,
            },
            body: JSON.stringify({
                id: "2871",
                url: document.getElementById('bashiti_url').value,
                db_category: document.getElementById('bashiti_db_category').value,
                description: document.getElementById('bashiti_description').value,
                arabic_description: document.getElementById('bashiti_arabic_description').value,
            })
        })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error("Error:", error));

    }
    
    function temuScrapView() {
        fetch("/api/TemuScrapView", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                'X-CSRFToken': csrftoken,
            },
            body: JSON.stringify({
                url: document.getElementById('temu_url').value,
                db_category: document.getElementById('temu_db_category').value,
            })
        })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error("Error:", error));

    }
    
    function sportEquipmentScrapView() {
        fetch("/api/SportEquipmentScrapView", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                'X-CSRFToken': csrftoken,
            },
            body: JSON.stringify({
                id: "2954",
                url: document.getElementById('sport_url').value,
                db_category: document.getElementById('sport_db_category').value,
                description: document.getElementById('sport_description').value,
                arabic_description: document.getElementById('sport_arabic_description').value,
            })
        })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error("Error:", error));

    }

    function dermacolScrapView() {
        fetch("/api/DermacolScrapView", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                'X-CSRFToken': csrftoken,
            },
            body: JSON.stringify({
                id: "2957",
                url: document.getElementById('dermacol_url').value,
                db_category: document.getElementById('dermacol_db_category').value,
                description: document.getElementById('dermacol_description').value,
                arabic_description: document.getElementById('dermacol_arabic_description').value,
            })
        })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error("Error:", error));

    }
    
    function updateStoreScrapView() {
        fetch("/api/UpdateStoreScrapView", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                'X-CSRFToken': csrftoken,
            },
            body: JSON.stringify({
                id: "2963",
                url: document.getElementById('update_store_url').value,
                db_category: document.getElementById('update_store_db_category').value,
                description: document.getElementById('update_store_description').value,
                arabic_description: document.getElementById('update_store_arabic_description').value,
            })
        })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error("Error:", error));

    }

    function realCosmeticsScrapView() {
        fetch("/api/RealCosmeticsScrapView", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                'X-CSRFToken': csrftoken,
            },
            body: JSON.stringify({
                id: "3057",
                url: document.getElementById('real_cosmetics_url').value,
                db_category: document.getElementById('real_cosmetics_db_category').value,
                description: document.getElementById('real_cosmetics_description').value,
                arabic_description: document.getElementById('real_cosmetics_arabic_description').value,
            })
        })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error("Error:", error));

    }

    function newVisionScrapView() {
        fetch("/api/NewVisionScrapView", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                'X-CSRFToken': csrftoken,
            },
            body: JSON.stringify({
                id: "3058",
                url: document.getElementById('new_vision_url').value,
                db_category: document.getElementById('new_vision_db_category').value,
                description: document.getElementById('new_vision_description').value,
                arabic_description: document.getElementById('new_vision_arabic_description').value,
            })
        })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error("Error:", error));

    }

    function petsJoScrapView() {
        fetch("/api/PetsJoScrapView", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                'X-CSRFToken': csrftoken,
            },
            body: JSON.stringify({
                id: "3064",
                url: document.getElementById('pets_jo_url').value,
                db_category: document.getElementById('pets_jo_db_category').value,
                description: document.getElementById('pets_jo_description').value,
                arabic_description: document.getElementById('pets_jo_arabic_description').value,
            })
        })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error("Error:", error));

    }
    function bashitiCentralScrapView() {
        fetch("/api/BashitiCentralScrapView", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                'X-CSRFToken': csrftoken,
            },
            body: JSON.stringify({
                id: "2871",
                url: document.getElementById('bashiti_central_url').value,
                db_category: document.getElementById('bashiti_central_db_category').value,
                description: ' ',
                arabic_description: ' ',
            })
        })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error("Error:", error));

    }

    function arabiEmartScrapView() {
        fetch("/api/ArabiEmartScrapView", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                'X-CSRFToken': csrftoken,
            },
            body: JSON.stringify({
                id: "3120",
                url: document.getElementById('arabi_emart_url').value,
                db_category: document.getElementById('arabi_emart_db_category').value,
                index: document.getElementById('arabi_emart_index').value,
                max_index: document.getElementById('arabi_emart_max_index').value,
                description: ' ',
                arabic_description: ' ',
            })
        })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error("Error:", error));

    }
    function stopProcess() {
        fetch("/api/stopProcess", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                'X-CSRFToken': csrftoken,
            },
            body: JSON.stringify({})
        })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error("Error:", error));
    }
    
    function searchUrl() {
        fetch("/api/CommonWebsites", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                'X-CSRFToken': csrftoken,
            },
            body: JSON.stringify({
                url: document.getElementById('search_url').value,
            })
        })
            .then(response => response.json())
            .then(data => {
                console.log(data)
                document.getElementById('product_selector').value = data?.['product_selector']
                document.getElementById('title_selector').value = data?.['title_selector']
                document.getElementById('img_selector').value = data?.['img_selector']
                document.getElementById('price_selector').value = data?.['price_selector']
            })
            .catch(error => console.error("Error:", error));
    }

    function mainScrapView() {
        fetch("/api/MainScrapView", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                'X-CSRFToken': csrftoken,
            },
            body: JSON.stringify({
                name: document.getElementById('main').value,
                viewId: document.getElementById('viewId').value,
                description: ' ',
                arabic_description: ' ',
            })
        })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error("Error:", error));

    }

    function inimexShopScrapView() {
        fetch("/api/InimexShopScrapView", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                'X-CSRFToken': csrftoken,
            },
            body: JSON.stringify({
                id: "3084",
                url: document.getElementById('inimex_shop_url').value,
                db_category: document.getElementById('inimex_shop_db_category').value,
                description: ' ',
                arabic_description: ' ',
            })
        })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error("Error:", error));

    }
    
    function delfyScrapView() {
        const csrftoken = getCookie('csrftoken');
        const formData = new FormData();
        let id =''
        let brand = document.getElementById('brand').value
        let click_before_description = ''
        let not_in_stuck = ''
        let main_image_selector = ''
        if (brand == 'Delfy'){
            id = '2982'
            title_selector= '.detail-product-name'
            description_selector = '#description'
            image_selector = '#lightSlider > li'
            image_attr = 'data-src'
        } else if (brand == 'Lacabine') {
            id = '3011'
            title_selector= 'h1[itemprop*="name"]'
            description_selector = 'div[itemprop*="description"]'
            image_selector = '.owl-stage li > img'
            image_attr = 'data-image-large-src'
        } else if (brand == 'Garnier') {
            id = '2959'
            title_selector= '.product-detail__header--brand'
            description_selector = '#product_information .product-note__description'
            image_selector = '.product-media__carousel-wrapper img[srcset]'
            image_attr = 'srcset'
        } else if (brand == 'Bruno Vassari') {
            id = '3095'
            title_selector= '.product-image-summary .product_title'
            description_selector = '.product-image-summary .woocommerce-product-details__short-description'
            image_selector = '.product-image-wrap > figure > a'
            image_attr = 'href'
        } else if (brand == "L'Oréal") {
            id = '2960'
            title_selector= '.product-details-top .product-name'
            description_selector = '#description'
            image_selector = '.slick-track div[data-image] > img'
            image_attr = 'src'
        } else if (brand == "L'Oréal cashmere") {
            id = '2960'
            title_selector= '.product-main .product_title'
            description_selector = '#tab-description'
            image_selector = '.product-gallery .product-images img'
            image_attr = 'data-large_image'
            brand.replace(' cashmere', '')
        } else if (brand == "Beesline") {
            id = '3113'
            title_selector= '.productFullDetail-desktopHeading2Line-J6P'
            description_selector = '.productFullDetail-informationBox-tag .richContent-root-CMO'
            image_selector = '.swiper-wrapper > .swiper-slide > img'
            image_attr = 'src'
        } else if (brand == "Acnecinamide") {
            id = '3097'
            title_selector= '.wrapper.bg-light .post-title'
            description_selector = '.wrapper.bg-light .accordion-item .collapse'
            image_selector = '.wrapper.bg-light .swiper-wrapper .swiper-slide img'
            image_attr = 'src'
        } else if (brand == "Revigen") {
            id = '3097'
            title_selector= '.page-title'
            description_selector = 'div[itemprop="description"]'
            image_selector = '.view-first img'
            image_attr = 'src'
        } else if (brand == "Dentissimo") {
            id = '3097'
            title_selector= '.cat_s_title'
            description_selector = '.col-12.col-md-12.d-flex.flex-column.justify-content-center.align-items-start.mt-4.text-justify'
            image_selector = '.col-12.col-md-5 img'
            image_attr = 'src'
        } else if (brand == "Garnier") {
            id = '3097'
            title_selector= '.product-detail__header--brand'
            description_selector = '#product_information .product-note__description'
            image_selector = 'meta[property="og:image"]'
            image_attr = 'content'
        } else if (brand == "WOW") {
            id = '3112'
            title_selector= '.container-main > .sticky p.font-semibold.capitalize'
            click_before_description = '.container-main > .sticky .transition-all button'
            description_selector = '.container-main > .sticky .transition-all p > span > span'
            image_selector = '.main-container > .hidden .main-image .main-image'
            image_attr = 'src'
            not_in_stuck = '.container-main .mt-5.flex.flex-col > div > p'
        } else if (brand == "WOW2") {
            id = '3112'
            title_selector= '.product__row .product__title'
            description_selector = '.product__row .product__description'
            image_selector = '.slider--product > .slide--product img'
            image_attr = 'src'
            brand = "WOW"
        } else if (brand == "dumyah") {
            id = '3097'
            title_selector= '.heading-title'
            description_selector = '#tab-description'
            image_selector = '.product-info .image > a > img'
            image_attr = 'src'
            brand = "dumyah"
        } else if (brand == "trixie") {
            id = '3202'
            title_selector= '#contentWrapper > div > div > div > h1'
            description_selector = '#contentWrapper .description'
            image_selector = '.embla img'
            image_attr = 'src'
            brand = ""
        } else if (brand == "Frezyderm") {
            id = '3009'
            title_selector= '.details > h1'
            description_selector = '.details > .desc'
            main_image_selector = '.product .top .media .img img'
            image_selector = 'ul.thumbs > li > img'
            image_attr = 'src'
            brand = "Frezyderm"
        } else if (brand == "perfecto") {
            id = '3202'
            title_selector= '.product-title'
            description_selector = '.shortdesc'
            image_selector = '#gallery .square-image img'
            image_attr = 'src'
            brand = ""
        } else if (brand == "Babaria") {
            id = '3419'
            title_selector= '.main-product__block-title > div > h1'
            description_selector = 'div[data-block-type="description"] > div > div'
            image_selector = '.sf-product-media__desktop .media-type-image > div > div > img'
            image_attr = 'srcset'
        } else if (brand == "Babaria 2") {
            id = '3419'
            title_selector= '.heading-title'
            description_selector = '#tab-description'
            image_selector = '.product-info .image > a > img'
            image_attr = 'src'
        }
        
        formData.append('id', id);
        formData.append('brand', brand);
        formData.append('file', document.getElementById('file').files[0]);
        formData.append('title_selector', title_selector);
        formData.append('description_selector', description_selector);
        formData.append('image_selector', image_selector);
        formData.append('image_attr', image_attr);
        formData.append('click_before_description', click_before_description);
        formData.append('not_in_stuck', not_in_stuck);
        formData.append('main_image_selector', main_image_selector);
        fetch("/api/DelfyScrapView", {
        method: "POST",
        headers: {
            'X-CSRFToken': csrftoken, // Ensure CSRF token is included
        },
        body: formData, // Use FormData as the body of the request
        })
        .then(response => response.json())
        .then(data => console.log(data))
        .catch(error => console.error("Error:", error));
    }


    function GetProductsFromBing() {
        const csrftoken = getCookie('csrftoken');
        const formData = new FormData();
        let id ='5622'

        formData.append('id', id);
        formData.append('file', document.getElementById('bingFile').files[0]);
        fetch("/api/GetProductsFromBing", {
            method: "POST",
            headers: {
                'X-CSRFToken': csrftoken, // Ensure CSRF token is included
            },
            body: formData, // Use FormData as the body of the request
        })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error("Error:", error));
    }
    function GetImagesFromGoogle() {
        const csrftoken = getCookie('csrftoken');
        const formData = new FormData();
        let id ='2769'
        
        formData.append('id', id);
        formData.append('file', document.getElementById('googleFile').files[0]);
        fetch("/api/GetImagesFromGoogle", {
        method: "POST",
        headers: {
            'X-CSRFToken': csrftoken, // Ensure CSRF token is included
        },
        body: formData, // Use FormData as the body of the request
        })
        .then(response => response.json())
        .then(data => console.log(data))
        .catch(error => console.error("Error:", error));
    }
    
    function changeText() {
        fetch("/api/ChangeText", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                'X-CSRFToken': csrftoken,
            },
            body: JSON.stringify({
                id: document.getElementById('change_text_id').value,
            })
        })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error("Error:", error));

    }
</script>
{% endblock javascripts %}
